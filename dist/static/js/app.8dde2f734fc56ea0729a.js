webpackJsonp([1],{0:function(t,e,i){i(76);var n=i(9)(i(64),i(888),null,null);t.exports=n.exports},63:function(t,e,i){i(77);var n=i(9)(i(65),i(889),null,null);t.exports=n.exports},64:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(880),o={};e.default={name:"icon",props:{name:{type:String,validator:function(t){return t?t in o:null}},scale:[Number,String],spin:Boolean,inverse:Boolean,flip:{validator:function(t){return"horizontal"===t||"vertical"===t}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var t=this.scale;return t=void 0===t?1:Number(t),isNaN(t)||t<=0?(i.i(n.a)('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):t*this.outerScale},clazz:function(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse}},icon:function(){return this.name?o[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},width:function(){return this.childrenWidth||this.icon&&this.icon.width/112*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/112*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}}},mounted:function(){var t=this;if(!this.icon){this.$children.forEach(function(e){e.outerScale=t.normalizedScale});var e=0,i=0;this.$children.forEach(function(t){e=Math.max(e,t.width),i=Math.max(i,t.height)}),this.childrenWidth=e,this.childrenHeight=i,this.$children.forEach(function(t){t.x=(e-t.width)/2,t.y=(i-t.height)/2})}},register:function(t){for(var e in t){var i=t[e];i.paths||(i.paths=[]),i.d&&i.paths.push({d:i.d}),o[e]=i}},icons:o}},65:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(886),o=i.n(n);e.default={name:"app",components:{ClinicMap:o.a}}},66:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(902),o=(i.n(n),i(49)),r=i(74),a=i.n(r),s=(i(472),i(0)),c=i.n(s);o.a.component("icon",c.a),o.a.use(n,{load:{key:"AIzaSyBH9ho4HSGE7uEoE6R1gLXnnBLJ4LJKIjQ"}}),e.default={name:"hello",data:function(){return{loading:!1,viewType:"clinic",center:{lat:1.4017128,lng:103.793967},infoOptions:{pixelOffset:{width:0,height:-35}},zoom:11,infoWindowPos:{lat:0,lng:0},infoWinOpen:!1,infoContent:"",currentMidx:null,markers:[],clinics:[]}},mounted:function(){this.readClinicFile()},methods:{getCurrentLocation:function(){var t=this;navigator.geolocation?(this.loading=!0,navigator.geolocation.getCurrentPosition(function(e){t.center={lat:e.coords.latitude,lng:e.coords.longitude},t.zoom=16,t.loading=!1})):x.innerHTML="Geolocation is not supported by this browser."},readClinicFile:function(){var t=new XMLHttpRequest,e=this;t.open("GET","../../static/"+e.viewType+".csv",!1),t.onreadystatechange=function(){4===t.readyState&&(200!==t.status&&0!=t.status||a()(t.responseText,{columns:!0,trim:!0},function(t,i){e.processFile(i),e.addMarkersToMap()}))},t.send(null)},processFile:function(t){var e=this;this.clinics=[],t.forEach(function(t){e.clinics.push(t)})},addMarkersToMap:function(){var t=this;t.markers=[],t.clinics.forEach(function(e){"clinic"===t.viewType?t.markers.push({position:{lat:Number(e.LAT),lng:Number(e.LNG)},infoText:"<div><b> "+e.CLINIC+"</b></div><div>Address: "+e.ADDRESS+"</div><div>Postal code: "+e.POSTAL+"</div><div>Tel: "+e.TEL+"</div><div>Fax: "+e.FAX+"</div><div>Opening hours: </div><div>Mon - Fri: "+e["OPERATING HOURS MON - FRI"]+"</div><div>Sat: "+e.SAT+"</div><div>Sun: "+e.SUN+"</div><div>Public holiday: "+e["PUBLIC HOLIDAY"]+"</div>"}):t.markers.push({position:{lat:Number(e.LAT),lng:Number(e.LNG)},infoText:"<div><b> "+e["CLINIC NAME"]+"</b></div><div>Address: "+e.ADDRESS+"</div><div>Tel: "+e.TEL+"</div><div>Opening hours: </div><div>Mon - Fri: "+e.WEEKDAYS+"</div><div>"+e["SAT/SUN/PH"]+"</div>"})})},toggleInfoWindow:function(t,e){this.infoWindowPos=t.position,this.infoContent=t.infoText,this.currentMidx==e?this.infoWinOpen=!this.infoWinOpen:(this.infoWinOpen=!0,this.currentMidx=e)}}}},72:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(49),o=i(63),r=i.n(o);n.a.config.productionTip=!1,new n.a({el:"#app",template:"<App/>",components:{App:r.a}})},75:function(t,e){},76:function(t,e){},77:function(t,e){},78:function(t,e){},79:function(t,e){},881:function(t,e,i){var n=i(9)(i(67),i(890),null,null);t.exports=n.exports},882:function(t,e,i){var n=i(9)(i(68),i(893),null,null);t.exports=n.exports},883:function(t,e,i){i(78);var n=i(9)(i(69),i(891),null,null);t.exports=n.exports},884:function(t,e,i){var n=i(9)(i(70),i(892),null,null);t.exports=n.exports},885:function(t,e,i){i(79);var n=i(9)(i(71),i(894),null,null);t.exports=n.exports},886:function(t,e,i){i(75);var n=i(9)(i(66),i(887),"data-v-066779c0",null);t.exports=n.exports},887:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"body"},[t.loading?i("div",{staticClass:"loading"},[i("h2",[t._v("Loading...")])]):t._e(),t._v(" "),i("h1",[t._v(t._s(t.viewType)+" MAP")]),t._v(" "),i("div",{staticClass:"options"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.viewType,expression:"viewType"}],attrs:{type:"radio",id:"clinic",value:"clinic"},domProps:{checked:t._q(t.viewType,"clinic")},on:{change:t.readClinicFile,__c:function(e){t.viewType="clinic"}}}),t._v(" "),i("label",{attrs:{for:"clinic"}},[t._v("Clinic")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.viewType,expression:"viewType"}],attrs:{type:"radio",id:"dental",value:"dental"},domProps:{checked:t._q(t.viewType,"dental")},on:{change:t.readClinicFile,__c:function(e){t.viewType="dental"}}}),t._v(" "),i("label",{attrs:{for:"dental"}},[t._v("Dental")]),t._v(" "),i("br"),t._v(" "),i("button",{on:{click:t.getCurrentLocation}},[t._v("Show my current position")])]),t._v(" "),i("gmap-map",{staticStyle:{width:"100%",height:"550px"},attrs:{center:t.center,zoom:t.zoom}},[i("gmap-info-window",{attrs:{options:t.infoOptions,position:t.infoWindowPos,opened:t.infoWinOpen,content:t.infoContent},on:{closeclick:function(e){t.infoWinOpen=!1}}}),t._v(" "),t._l(t.markers,function(e,n){return i("gmap-marker",{attrs:{position:e.position,clickable:!0},on:{click:function(i){t.toggleInfoWindow(e,n)}}})})],2),t._v(" "),i("div",{staticClass:"link"},[i("a",{attrs:{href:"https://github.com/fsw0723/ClinicMap",target:"_blank"}},[i("icon",{attrs:{name:"github",scale:"2"}})],1),t._v(" "),i("a",{attrs:{href:"mailto:sfang@homeaway.com"}},[i("icon",{attrs:{name:"envelope",scale:"2"}})],1)])],1)},staticRenderFns:[]}},888:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{class:t.clazz,style:t.style,attrs:{version:"1.1",role:t.label?"img":"presentation","aria-label":t.label,x:t.x,y:t.y,width:t.width,height:t.height,viewBox:t.box}},[t._t("default",[t.icon?t._l(t.icon.paths,function(e){return i("path",t._b({},"path",e))}):t._e()])],2)},staticRenderFns:[]}},889:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("clinic-map")],1)},staticRenderFns:[]}},890:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{ref:"input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.value}})},staticRenderFns:[]}},891:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vue-map-container"},[i("div",{ref:"vue-map",staticClass:"vue-map"}),t._v(" "),i("div",{staticClass:"vue-map-hidden"},[t._t("default")],2),t._v(" "),t._t("visible")],2)},staticRenderFns:[]}},892:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",[i("span",{domProps:{textContent:t._s(t.label)}}),t._v(" "),i("input",{ref:"input",class:t.className,attrs:{type:"text",placeholder:t.placeholder}})])},staticRenderFns:[]}},893:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{ref:"flyaway"},[t._t("default",[i("div",{domProps:{innerHTML:t._s(t.content)}})])],2)])},staticRenderFns:[]}},894:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vue-street-view-pano-container"},[i("div",{ref:"vue-street-view-pano",staticClass:"vue-street-view-pano"}),t._v(" "),t._t("default")],2)},staticRenderFns:[]}},947:function(t,e){}},[72]);
//# sourceMappingURL=app.8dde2f734fc56ea0729a.js.map